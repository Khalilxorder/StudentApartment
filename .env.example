# ============================================
# STUDENT APARTMENT WEBSITE - ENVIRONMENT CONFIGURATION
# ============================================
# CRITICAL: Never commit .env.local to version control!
# For development: Copy this file to .env.local and populate with real values.
# For production/staging: Use your hosting platform's secret manager (Vercel, Supabase, etc).
#
# Guide: See docs/DEPLOYMENT.md for detailed credential acquisition.

# ============================================
# SUPABASE (Database & Authentication)
# ============================================
# Get from: https://app.supabase.com → Your Project → Settings → API
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_DB_URL=postgresql://postgres:YOUR_PASSWORD@db.your-project-id.supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@db.your-project-id.supabase.co:5432/postgres

# ============================================
# GOOGLE SERVICES
# ============================================
# AI/Gemini: https://aistudio.google.com/app/apikey
GOOGLE_AI_API_KEY=AIzaSy...
GOOGLE_GEMINI_API_KEY=AIzaSy...

# OAuth Sign-In: https://console.cloud.google.com → APIs & Services → Credentials
GOOGLE_CLIENT_ID=YOUR_PROJECT_ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-...
GOOGLE_SIGN_IN_API_KEY=AIzaSy...

# Maps API: https://console.cloud.google.com → Maps Platform
NEXT_PUBLIC_MAPS_API_KEY=AIzaSy...
NEXT_PUBLIC_GOOGLE_MAP_ID=optional-map-id

# ============================================
# STRIPE (Payments)
# ============================================
# Get from: https://dashboard.stripe.com → Developers → API Keys
# Use TEST keys for development, LIVE keys for production
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ============================================
# MEILISEARCH (Search Indexing)
# ============================================
# Local: http://localhost:7700 (run `docker run -p 7700:7700 getmeili/meilisearch`)
# Production: https://meilisearch.com/cloud
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_API_KEY=your-meilisearch-api-key

# ============================================
# REDIS (Caching & Rate Limiting)
# ============================================
# Local: redis://localhost:6379 (run `redis-cli`)
# Production: Use Upstash (https://upstash.com) or AWS ElastiCache
REDIS_URL=redis://localhost:6379
ENABLE_REDIS_RATE_LIMITING=false

# Optional: Upstash (serverless Redis alternative)
UPSTASH_REDIS_REST_URL=https://YOUR_ID.upstash.io
UPSTASH_REDIS_REST_TOKEN=YOUR_TOKEN

# ============================================
# EMAIL & NOTIFICATIONS
# ============================================
# Resend (modern email API): https://resend.com → API Keys
RESEND_API_KEY=re_...

# Optional: SMTP for custom email providers
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# Optional: SendGrid
SENDGRID_API_KEY=SG...

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# Generate: `openssl rand -base64 32`
NEXTAUTH_SECRET=your-random-secret-minimum-32-chars
NEXTAUTH_URL=http://localhost:3000
JWT_SECRET=your-jwt-secret-here

# Data encryption key (32 bytes base64): `node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"`
ENCRYPTION_KEY=your-32-byte-base64-encoded-key

# ============================================
# OPTIONAL: AI FALLBACK PROVIDERS
# ============================================
# OpenAI: https://platform.openai.com → API Keys
OPENAI_API_KEY=sk-...

# ============================================
# OPTIONAL: MAPBOX (if using alternative to Google Maps)
# ============================================
# Get from: https://account.mapbox.com/tokens/
NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN=pk...

# ============================================
# OPTIONAL: MONITORING & OBSERVABILITY
# ============================================
# Sentry (error tracking): https://sentry.io → Projects
NEXT_PUBLIC_SENTRY_DSN=https://YOUR_KEY@sentry.io/PROJECT_ID
SENTRY_AUTH_TOKEN=YOUR_AUTH_TOKEN

# PostHog Analytics: https://posthog.com
NEXT_PUBLIC_POSTHOG_KEY=phc_...
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ============================================
# OPTIONAL: SEMANTIC SEARCH (Ollama)
# ============================================
# Local LLM for embeddings: https://ollama.ai
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# ============================================
# OPTIONAL: TRANSIT DATA (Budapest BKK)
# ============================================
# https://bkk.hu/en/open-data/
BKK_GTFS_API_KEY=your-bkk-api-key-here

# ============================================
# OPTIONAL: WEATHER API
# ============================================
# https://openweathermap.org/api
OPENWEATHER_API_KEY=your-weather-api-key

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_EXPERIMENTAL_RANKING=false
ENABLE_BANDIT_EXPLORATION=false
ENABLE_SEMANTIC_SEARCH=false
ENABLE_SANDBOX_MODE=false

# ============================================
# BUILD & ENVIRONMENT
# ============================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
VERCEL_ENV=development

